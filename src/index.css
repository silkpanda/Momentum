/* src/index.css (FIXED: Safelist now 100% correct) */

/*
  1. Import the v4 engine.
*/
@import "tailwindcss";

/*
  2. --- THIS IS THE FIX ---
  This safelist now EXACTLY matches the 'profileColors'
  array from EditProfileModal.jsx. This will generate
  all the 'bg-*' classes we need.
*/
@source inline("bg-managed-red", "bg-managed-orange", "bg-managed-yellow", "bg-managed-green", "bg-managed-teal", "bg-managed-blue", "bg-managed-purple", "bg-managed-gray");

/*
  3. Add your theme variables inside @theme
*/
@theme {
  /* === 1. Base Palette (Calm) === */
  --palette-gray-0: #FFFFFF;
  --palette-gray-50: #F9FAFB;
  --palette-gray-100: #F3F4F6;
  --palette-gray-200: #E5E7EB;
  --palette-gray-300: #D1D5DB;
  --palette-gray-500: #6B7280;
  --palette-gray-600: #4B5563;
  --palette-gray-700: #374151;
  --palette-gray-800: #1F2937;
  --palette-gray-900: #111827;
  --palette-black: #000000;

  /* === 2. Semantic Roles (Signal) === */
  --color-bg-canvas: var(--palette-gray-50);
  --color-bg-surface: var(--palette-gray-0);
  --color-bg-muted: var(--palette-gray-100);
  --color-text-primary: var(--palette-gray-700);
  --color-text-secondary: var(--palette-gray-500);
  --color-text-disabled: var(--palette-gray-300);
  --color-text-inverted: var(--palette-gray-0);
  --color-border-primary: var(--palette-gray-300);
  --color-border-muted: var(--palette-gray-100);
  --color-bg-input: var(--palette-gray-0);
  --color-border-default: var(--palette-gray-300);

  /* === 3. Action & State Palette (Spark) === */
  --palette-action-500: #4F46E5;
  --palette-action-600: #4338CA;
  --color-action-primary: var(--palette-action-500);
  --color-action-primary-hover: var(--palette-action-600);
  --color-text-on-action: var(--palette-gray-0);
  --color-brand-primary: var(--color-action-primary);
  --color-brand-primary-hover: var(--color-action-primary-hover);
  --palette-success-500: #10B981;
  --palette-warning-500: #F59E0B;
  --palette-danger-500: #EF4444;
  --palette-danger-100: #FEE2E2;
  --palette-danger-200: #FECACA;
  --color-signal-success: var(--palette-success-500);
  --color-signal-warning: var(--palette-warning-500);
  --color-signal-danger: var(--palette-danger-500);
  --color-signal-error: var(--palette-danger-500);
  --color-signal-error-bg: var(--palette-danger-100);
  --color-signal-error-border: var(--palette-danger-200);

  /* === 4. Accent Palette (User-controlled) === */
  --palette-accent-forest: #059669;
  --palette-accent-ruby: #DC2626;
  --palette-accent-aqua: #0891B2;

  /* === 5. Typography === */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --text-2xl: 1.5rem;
  --text-lg: 1.125rem;
  --text-base: 1rem;
  --text-sm: 0.875rem;
  --text-xs: 0.75rem;
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;

  /* === 6. Managed Profile Palette === */
  /*
    The @theme directive AUTOMATICALLY generates
    bg-managed-red, text-managed-red, etc.
    from these definitions.
  */
  --color-managed-red: #DC2626;
  --color-managed-orange: #F97316;
  --color-managed-yellow: #FACC15;
  --color-managed-green: #059669;
  --color-managed-teal: #14B8A6;
  --color-managed-blue: #2563EB;
  --color-managed-purple: #9333EA;
  --color-managed-gray: #6B7280;
}

/*
  4. Add your global styles to @layer base
*/
@layer base {
  body {
    font-family: var(--font-primary);
    background-color: var(--color-bg-canvas);
    color: var(--color-text-primary);
    margin: 0;
    padding: 0;
  }
}

/*
  5. Dark Mode Theme
*/
html[data-theme="dark"] {
  /* --- DARK THEME OVERRIDES --- */
  --color-bg-canvas: var(--palette-gray-900);
  --color-bg-surface: var(--palette-gray-800);
  --color-bg-muted: var(--palette-gray-700);
  --color-text-primary: var(--palette-gray-100);
  --color-text-secondary: var(--palette-gray-300);
  --color-text-disabled: var(--palette-gray-600);
  --color-text-inverted: var(--palette-gray-900);
  --color-border-primary: var(--palette-gray-600);
  --color-border-muted: var(--palette-gray-700);
  --color-bg-input: var(--palette-gray-800);
  --color-border-default: var(--palette-gray-600);
  --color-action-primary: var(--palette-action-500);
  --color-action-primary-hover: var(--palette-action-600);
  --color-text-on-action: var(--palette-gray-0);
  --color-brand-primary: var(--color-action-primary);
  --color-brand-primary-hover: var(--color-action-primary-hover);
  --color-signal-error: var(--palette-danger-500);
  --color-signal-error-bg: #450a0a;
  --color-signal-error-border: #7f1d1d;
}